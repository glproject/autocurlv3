{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?052d","webpack:///./src/components/autocurl/Autocurl.vue?99e6","webpack:///./src/components/autocurl/manifest.js","webpack:///src/components/autocurl/Autocurl.vue","webpack:///./src/components/autocurl/Autocurl.vue?c931","webpack:///./src/components/autocurl/Autocurl.vue","webpack:///src/App.vue","webpack:///./src/App.vue?98c8","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/autocurl/Autocurl.vue?7d3a","webpack:///./src/App.vue?f46a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Appvue_type_template_id_1a4ba5c1_lang_pug_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","m3u8","m3u8_2","staticRenderFns","Autocurlvue_type_template_id_68496317_lang_pug_render","directives","rawName","expression","type","domProps","on","input","$event","target","composing","click","refreshAutocurl","_v","_s","curlbuttontext","status","statusText","renditions","first","last","count","_l","check","index","class","disabled","processTime","Autocurlvue_type_template_id_68496317_lang_pug_staticRenderFns","axios","require","async","url","_","Promise","log","str","console","manifest","manifestUrl","parse","set","debug","keepErrors","timestamp","isMaster","setManifestUrl","setName","setDebug","setErrorKeeping","errors","newError","checks","firstChunk","lastChunk","chunkOrder","chunkCount","refreshData","checkFirstChunks","checkLastChunks","checkChunkOrder","checkChunkCount","newManifestUrl","bool","_this","resolve","now","curl","then","analyzeType","setRenditions","curlRenditions","cleanRenditions","obj","parallel","callback","Date","toLocaleTimeString","href","response","catch","error","request","message","split","filter","row","includes","map","renditionObject","rend","chunks","regex","each","head","match","test","reduce","a","b","NaN","tests","sequence","rollover","program","chunksInOrder","rows","blub","msg","errorObject","Autocurlvue_type_script_lang_js","props","duration","created","curler","methods","_this2","autocurl_Autocurlvue_type_script_lang_js","component","componentNormalizer","Autocurl","Appvue_type_script_lang_js","components","src_Appvue_type_script_lang_js","App_component","App","Vue","config","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Autocurl_vue_vue_type_style_index_0_lang_scss__WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Autocurl_vue_vue_type_style_index_0_lang_scss__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss__WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.5f04e631.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container mt-4\"},[_c('autocurl',{attrs:{\"m3u8\":_vm.m3u8}}),_c('autocurl',{attrs:{\"m3u8\":_vm.m3u8_2}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"watcher card mb-2 bg-light\"},[_c('div',{staticClass:\"card-header bg-light\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.m3u8),expression:\"m3u8\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.m3u8)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.m3u8=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refreshAutocurl()}}},[_vm._v(_vm._s(_vm.curlbuttontext))])])])]),_c('div',{staticClass:\"card-body p-0\"},[_c('ul',{staticClass:\"list-group list-group-flush\"},[_c('li',{staticClass:\"list-group-item\"},[_c('span',{staticClass:\"badge badge-pill badge-success mr-1 p-2\"},[_vm._v(_vm._s(_vm.status)+\" \"+_vm._s(_vm.statusText))]),_c('span',{staticClass:\"badge badge-pill badge-light mr-1 p-2\"},[_vm._v(\"Renditions: \"+_vm._s(_vm.renditions.length))]),_c('span',{staticClass:\"badge badge-pill badge-light mr-1 p-2\"},[_vm._v(\"First: \"+_vm._s(_vm.renditions[0].first)+\".ts\")]),_c('span',{staticClass:\"badge badge-pill badge-light mr-1 p-2\"},[_vm._v(\"Last: \"+_vm._s(_vm.renditions[0].last)+\".ts\")]),_c('span',{staticClass:\"badge badge-pill badge-light mr-1 p-2\"},[_vm._v(\"Segments: \"+_vm._s(_vm.renditions[0].count))])]),_c('li',{staticClass:\"list-group-item\"},_vm._l((_vm.checks),function(check,key,index){return _c('button',{key:index,staticClass:\"btn mr-1\",class:[check.value ? 'btn-success' : 'btn-danger'],attrs:{\"disabled\":\"\"}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(check.name))]),_c('span',{staticClass:\"badge badge-light mr-1\"},[_vm._v(_vm._s(check.value ? 'OK' : 'NOT OK'))])])}))])]),_c('div',{staticClass:\"card-footer\"},[_c('span',{staticClass:\"badge badge-pill badge-secondary mr-1 p-2\"},[_vm._v(\"Time : \"+_vm._s(_vm.processTime)+\" ms\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const axios   = require('axios');\r\nconst async   = require('async')\r\nconst url     = require('url');\r\nconst _       = require('lodash');\r\nconst Promise = require('promise');\r\nconst log     = (str) => { console.log('AUTOCURL DEBUG: ' + str); }\r\n\r\n/*\r\n*\r\n* myStreamExample = manifest(...m3u8);\r\n* myStreamExample.setDebug(true);\r\n* myStreamExample.refreshData().then( console.log );\r\n*\r\n*/\r\n\r\nexport default function (str) {\r\n\r\n  const manifestUrl = typeof str == 'string' && str != '' ? url.parse(str) : url.parse('');\r\n\r\n  let set =  {\r\n\r\n    // CONFIG\r\n    manifestUrl: manifestUrl,\r\n    debug: true,\r\n    keepErrors: false,\r\n    name: '',\r\n\r\n    // STAT\r\n    status: 0,\r\n    statusText: '',\r\n    data: '',\r\n    processTime: 0,\r\n    timestamp: 0,\r\n    isMaster: 'notset',\r\n\r\n    // SET AND CONFIG\r\n    setManifestUrl: setManifestUrl,\r\n    setName: setName,\r\n    setDebug: setDebug,\r\n    setErrorKeeping: setErrorKeeping,\r\n\r\n    // RENDITIONS\r\n    renditions: [],\r\n\r\n    // ERRORS\r\n    errors: [],\r\n    newError: newError,\r\n\r\n    checks: {\r\n      firstChunk: {value:false, name:'First Chunks'},\r\n      lastChunk: {value:false, name:'Last Chunks'},\r\n      chunkOrder: {value:false, name:'Sequence'},\r\n      chunkCount: {value:false, name:'Equal Count'}\r\n    },\r\n\r\n    // ASYNCH METHODS\r\n    refreshData: refreshData,\r\n\r\n    checkFirstChunks: checkFirstChunks,\r\n    checkLastChunks: checkLastChunks,\r\n    checkChunkOrder: checkChunkOrder,\r\n    checkChunkCount: checkChunkCount\r\n\r\n  }\r\n\r\n  return set;\r\n\r\n}\r\n\r\n\r\n/////// SET & CONFIG FUNCTIONS\r\n\r\nfunction setManifestUrl (str) {\r\n\r\n  let newManifestUrl = typeof str === 'string' && str != '' ? url.parse(str) : this.manifestUrl;\r\n  this.manifestUrl = newManifestUrl;\r\n  return this;\r\n\r\n}\r\n\r\nfunction setName (str) {\r\n\r\n  this.name = typeof str === 'string' ? str : this.name;\r\n  return this;\r\n\r\n}\r\n\r\nfunction setDebug (bool) {\r\n\r\n  this.debug = typeof bool === 'boolean' ? bool : this.debug;\r\n  return this;\r\n\r\n}\r\n\r\nfunction setErrorKeeping (bool) {\r\n  this.keepErrors = typeof bool === 'boolean' ? bool : this.keepErrors;\r\n  return this;\r\n}\r\n\r\n\r\n//////////////////////////////////////////////////\r\n//////////////////////////////////////////////////\r\n\r\nfunction refreshData() {\r\n   if ( this.manifestUrl == '' ) { return }\r\n   if ( this.debug ) { log('refreshData() started.') }\r\n\r\n   return new Promise( (resolve) => {\r\n\r\n      if ( !this.keepErrors ) { this.errors = []; }\r\n\r\n         this.processTime = _.now();\r\n\r\n         curl(this)\r\n           .then( analyzeType )\r\n           .then( setRenditions )\r\n           .then( curlRenditions )\r\n           .then( cleanRenditions )\r\n           .then((obj) => {\r\n\r\n             if ( obj.debug ) { log('Prerequisities done') }\r\n             async.parallel([\r\n               function (callback) { obj.checkFirstChunks(); callback(null); },\r\n               function (callback) { obj.checkLastChunks(); callback(null); },\r\n               function (callback) { obj.checkChunkOrder(); callback(null); },\r\n               function (callback) { obj.checkChunkCount(); callback(null); }\r\n             ], () => {\r\n\r\n               this.processTime = _.now() - this.processTime;\r\n               this.timestamp   = new Date().toLocaleTimeString();\r\n               if ( this.debug ) { log('refreshData() end.') }\r\n               resolve(obj);\r\n             });\r\n\r\n           });\r\n\r\n   });\r\n\r\n}\r\n\r\nfunction curl (obj) {\r\n  return new Promise( (resolve) => {\r\n\r\n    axios.get(obj.manifestUrl.href)\r\n      .then( (response) => {\r\n        obj.data       = response.data;\r\n        obj.status     = response.status;\r\n        obj.statusText = response.statusText;\r\n        return resolve(obj);\r\n      })\r\n      .catch( (error) => {\r\n        if ( error.response ) {\r\n          obj.data       = error.response.data;\r\n          obj.status     = error.response.status;\r\n          obj.statusText = error.response.statusText;\r\n        } else if ( error.request ) {\r\n          obj.data       = '';\r\n          obj.status     = 0 ;\r\n          obj.statusText = '';\r\n        } else {\r\n          obj.data       = '';\r\n          obj.status     = 0 ;\r\n          obj.statusText = error.message;\r\n        }\r\n        if ( obj.debug ) { log('curl done.') }\r\n        return resolve(obj);\r\n      });\r\n\r\n  });\r\n}\r\n\r\nfunction analyzeType(obj) {\r\n  return new Promise( (resolve) => {\r\n\r\n    if ( obj.isMaster === 'notset' ) {\r\n      obj.isMaster = isMaster(obj.data) ? true : false;\r\n    }\r\n\r\n    if ( obj.debug ) { log('analyze type done.') }\r\n    return resolve(obj);\r\n\r\n  });\r\n}\r\n\r\nfunction setRenditions(obj) {\r\n  return new Promise( (resolve) => {\r\n\r\n    if (obj.isMaster) {\r\n\r\n      obj.renditions = obj.data.split('\\n').filter(row => row[0] !== '#').filter(row => _.includes(row,'m3u8'));\r\n      obj.renditions = obj.renditions.map((url, index) => {\r\n        return new renditionObject(url, index);\r\n      });\r\n\r\n      if ( obj.debug ) { log('set renditions done.') }\r\n      return resolve(obj);\r\n\r\n    } else {\r\n\r\n      obj.renditions = [ new renditionObject(obj.manifestUrl.href, 0) ];\r\n      if ( obj.debug ) { log('set renditions done.') }\r\n      return resolve(obj);\r\n\r\n    }\r\n\r\n  });\r\n}\r\n\r\nfunction curlRenditions(obj) {\r\n  return new Promise ( (resolve) => {\r\n\r\n    async.map(\r\n      obj.renditions,\r\n      function(rend, callback) {\r\n\r\n        //rend.url, rend.chunks, rend.status, rend.data\r\n        axios.get(rend.url)\r\n        .then( (response) => {\r\n          rend.data     = response.data;\r\n          rend.status   = response.status;\r\n          callback(null, rend);\r\n        })\r\n        .catch( (error) => {\r\n          if ( error.response ) {\r\n            rend.data       = error.response.data;\r\n            rend.status     = error.response.status;\r\n          } else if ( error.request ) {\r\n            rend.data       = '';\r\n            rend.status     = 0 ;\r\n          } else {\r\n            rend.data       = '';\r\n            rend.status     = 0 ;\r\n          }\r\n          callback(null, rend);\r\n        });\r\n\r\n      },\r\n      function() {\r\n         if ( obj.debug ) { log('curl renditions done.') }\r\n         return resolve(obj);\r\n    });\r\n\r\n  });\r\n}\r\n\r\nfunction cleanRenditions(obj) {\r\n  return new Promise( (resolve) => {\r\n\r\n    //rend.url, rend.chunks, rend.status, rend.data\r\n    obj.renditions.map((rend) => {\r\n      rend.chunks = rend.data.split('\\n').filter(row => row[0] !== '#' && row !== '');\r\n\r\n      rend.count = rend.chunks.length;\r\n      rend.first = 0;\r\n      rend.last  = 0;\r\n\r\n    });\r\n\r\n    if ( obj.debug ) { log('clean renditions done') }\r\n    resolve(obj);\r\n\r\n  });\r\n}\r\n\r\n///////////////////////////////////////////\r\n///////////  CHECK FUNCTIONS //////////////\r\n\r\nfunction checkFirstChunks (callback) {\r\n\r\n  const regex = /\\d*(?=.ts)/g;\r\n\r\n  _.each(this.renditions, function(r) {\r\n      r.first = (_.head(r.chunks).match(regex)[0]);\r\n  });\r\n\r\n  let test = !!this.renditions.reduce(function(a, b){ return (a.first == b.first) ? a : NaN; });\r\n  this.checks.firstChunk.value = test ? true : false;\r\n  !test && this.newError('At least 1 rendition has a different first chunk than all others.');\r\n\r\n  if ( this.debug ) { log('check first chunks done.') }\r\n  if (callback) { return callback(null)}\r\n  return this;\r\n\r\n}\r\n\r\nfunction checkLastChunks (callback) {\r\n\r\n  const regex = /\\d*(?=.ts)/g;\r\n\r\n  _.each(this.renditions, function(r) {\r\n      r.last = (_.last(r.chunks).match(regex)[0]);\r\n  });\r\n\r\n  let test = !!this.renditions.reduce(function(a, b){ return (a.last == b.last) ? a : NaN; });\r\n  this.checks.lastChunk.value = test ? true : false;\r\n  !test && this.newError('At least 1 rendition has a different last chunk than all others.');\r\n\r\n  if ( this.debug ) { log('check last chunks done.') }\r\n  if (callback) { return callback(null)}\r\n  return this;\r\n\r\n\r\n}\r\n\r\nfunction checkChunkOrder (callback) {\r\n\r\n  const regex = /\\d*(?=.ts)/g;\r\n  let tests = [];\r\n\r\n  this.checks.chunkOrder.value = true;\r\n\r\n  _.each(this.renditions, function (r, index) {\r\n      let sequence = r.chunks.map((c) => { return c.match(regex)[0]})\r\n      const rollover = [1,-999,-1999,-2999,-3999];\r\n      let test = !!sequence.reduce(function(a,b){ return (_.includes(rollover,(b - a)) === true) ? b : NaN; });\r\n      tests.push({program: index, chunksInOrder: test});\r\n  });\r\n\r\n  for (let i = 0; i < tests.length; i++) {\r\n    if (!tests[i].chunksInOrder) {\r\n      this.checks.chunkOrder.value = false;\r\n      this.newError('Program ['+tests[i].program+'] has an error in sequence.');\r\n    }\r\n  }\r\n\r\n  if ( this.debug ) { log('check chunk order done.') }\r\n  if (callback) { return callback(null)}\r\n  return this;\r\n\r\n}\r\n\r\nfunction checkChunkCount (callback) {\r\n\r\n  let test = !!this.renditions.reduce(function(a, b){ return (a.count == b.count) ? a : NaN; });\r\n  this.checks.chunkCount.value = test ? true : false;\r\n  !test && this.newError('At least 1 rendition has a different amount of chunks than all others.');\r\n\r\n  if ( this.debug ) { log('check chunk count done.') }\r\n  if (callback) { return callback(null)}\r\n  return this;\r\n\r\n}\r\n\r\n/////////////////////////////////////\r\n///////// HELPER FUNCTIONS //////////\r\n\r\nfunction isMaster(data) {\r\n\r\n  let rows = data.split('\\n').filter(row => row[0] !== '#')\r\n    .map((str) => {\r\n      let blub = str.split('.');\r\n      return blub[blub.length - 1];\r\n    });\r\n\r\n  return rows[0] === 'm3u8' ? true : false;\r\n\r\n}\r\n\r\nfunction renditionObject (url, index) {\r\n\r\n  this.url = url;\r\n  this.program = index;\r\n  this.chunks = [];\r\n  this.status = 0;\r\n  this.data = '';\r\n  this.count = 0;\r\n  this.first = 0;\r\n  this.last = 0;\r\n\r\n}\r\n\r\nfunction newError (msg) {\r\n  this.errors.push( new errorObject(msg) );\r\n}\r\n\r\nfunction errorObject (msg) {\r\n  this.msg = msg;\r\n  this.timestamp = _.now();\r\n}\r\n","<template lang=\"pug\">\r\n   .watcher.card.mb-2.bg-light\r\n      .card-header.bg-light\r\n         .input-group\r\n            input.form-control(type=\"text\" v-model=\"m3u8\")\r\n            .input-group-append\r\n               button.btn.btn-primary(type=\"button\" @click=\"refreshAutocurl()\") {{ curlbuttontext }}\r\n      .card-body.p-0\r\n         ul.list-group.list-group-flush\r\n            li.list-group-item\r\n               span.badge.badge-pill.badge-success.mr-1.p-2\r\n                  | {{ status }} {{ statusText }}\r\n               span.badge.badge-pill.badge-light.mr-1.p-2\r\n                  | Renditions: {{ renditions.length }}\r\n               span.badge.badge-pill.badge-light.mr-1.p-2\r\n                  | First: {{ renditions[0].first }}.ts\r\n               span.badge.badge-pill.badge-light.mr-1.p-2\r\n                  | Last: {{ renditions[0].last }}.ts\r\n               span.badge.badge-pill.badge-light.mr-1.p-2\r\n                  | Segments: {{ renditions[0].count }}\r\n            li.list-group-item\r\n               button.btn.mr-1(\r\n                  v-for=\"(check,key,index) in checks\"\r\n                  :key=\"index\"\r\n                  v-bind:class=\"[check.value ? 'btn-success' : 'btn-danger']\" disabled)\r\n                  span.mr-2 {{ check.name }}\r\n                  span.badge.badge-light.mr-1 {{ check.value ? 'OK' : 'NOT OK' }}\r\n      .card-footer\r\n         span.badge.badge-pill.badge-secondary.mr-1.p-2\r\n            | Time : {{ processTime }} ms\r\n</template>\r\n\r\n<script>\r\n\r\n   import manifest from './manifest.js';\r\n\r\n   export default {\r\n      props: ['m3u8'],\r\n      data: () => {\r\n         return {\r\n            status: 0,\r\n            statusText: '',\r\n            isMaster: true,\r\n            renditions: [{\r\n               first: 0,\r\n               last: 0,\r\n               count: 0,\r\n               chunks: [],\r\n               program: 0\r\n            }],\r\n            checks:{\r\n               firstChunk: false,\r\n               lastChunk: false,\r\n               chunkOrder: false,\r\n               chunkCount: false\r\n            },\r\n            processTime: 0,\r\n            timestamp: 0,\r\n            curlbuttontext : 'Loading',\r\n            duration: 0\r\n         }\r\n      },\r\n      created: function () {\r\n            const curler = manifest(this.m3u8);\r\n            curler.refreshData().then((obj) => {\r\n               this.status       = obj.status;\r\n               this.statusText   = obj.statusText;\r\n               this.isMaster     = obj.isMaster;\r\n               this.renditions   = obj.renditions;\r\n               this.checks       = obj.checks;\r\n               this.processTime  = obj.processTime;\r\n               this.timestamp    = obj.timestamp;\r\n               this.curlbuttontext     = 'Curl';\r\n            });\r\n      },\r\n      methods: {\r\n\r\n         refreshAutocurl: function () {\r\n            this.curlbuttontext = 'Loading'\r\n            const curler = manifest(this.m3u8);\r\n            curler.refreshData().then((obj) => {\r\n               this.status       = obj.status;\r\n               this.statusText   = obj.statusText;\r\n               this.isMaster     = obj.isMaster;\r\n               this.renditions   = obj.renditions;\r\n               this.checks       = obj.checks;\r\n               this.processTime  = obj.processTime;\r\n               this.timestamp    = obj.timestamp;\r\n               this.curlbuttontext     = 'Curl';\r\n            });\r\n         }\r\n\r\n      }\r\n\r\n   }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n   .watcher{\r\n      border:2px solid black;\r\n   }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Autocurl.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Autocurl.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Autocurl.vue?vue&type=template&id=68496317&lang=pug\"\nimport script from \"./Autocurl.vue?vue&type=script&lang=js\"\nexport * from \"./Autocurl.vue?vue&type=script&lang=js\"\nimport style0 from \"./Autocurl.vue?vue&type=style&index=0&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\r\n   #app\r\n      .container.mt-4\r\n         autocurl( v-bind:m3u8=\"m3u8\" )\r\n         autocurl( v-bind:m3u8=\"m3u8_2\" )\r\n</template>\r\n\r\n<script>\r\n\r\n   import Autocurl from './components/autocurl/Autocurl.vue';\r\n\r\n   export default {\r\n      name: 'app',\r\n      data: () => {\r\n         return {\r\n            m3u8:'https://rbmn-live.akamaized.net/hls/live/590971/180712Goodwood1Pri/master.m3u8',\r\n            m3u8_2:'https://liveredbulltv02-i.akamaihd.net/hls/live/573017/171014IronmanPri/master.m3u8'\r\n         }\r\n      },\r\n      components: {\r\n         Autocurl\r\n      }\r\n   }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1a4ba5c1&lang=pug\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n   render: h => h(App)\r\n}).$mount('#app');\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Autocurl.vue?vue&type=style&index=0&lang=scss\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Autocurl.vue?vue&type=style&index=0&lang=scss\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss\""],"sourceRoot":""}